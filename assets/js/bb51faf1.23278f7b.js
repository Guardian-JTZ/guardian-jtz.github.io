"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[4733],{96709:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var a=n(74848),s=n(28453);const r={sidebar_position:35,tags:["Easy","Linux","\u6d41\u91cf\u5206\u6790","\u547d\u4ee4\u6267\u884c","SUDO"],title:"Smag Grotto",description:"Smag Grotto",sidebar_label:"Smag Grotto",slug:"/tryhackme/35"},i="Smag Grotto",o={id:"box/TryHackMe/35",title:"Smag Grotto",description:"Smag Grotto",source:"@site/docs/box/TryHackMe/35.md",sourceDirName:"box/TryHackMe",slug:"/tryhackme/35",permalink:"/docs/tryhackme/35",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u6d41\u91cf\u5206\u6790",permalink:"/docs/tags/\u6d41\u91cf\u5206\u6790"},{label:"\u547d\u4ee4\u6267\u884c",permalink:"/docs/tags/\u547d\u4ee4\u6267\u884c"},{label:"SUDO",permalink:"/docs/tags/sudo"}],version:"current",sidebarPosition:35,frontMatter:{sidebar_position:35,tags:["Easy","Linux","\u6d41\u91cf\u5206\u6790","\u547d\u4ee4\u6267\u884c","SUDO"],title:"Smag Grotto",description:"Smag Grotto",sidebar_label:"Smag Grotto",slug:"/tryhackme/35"},sidebar:"boxSidebar",previous:{title:"Mustacchio",permalink:"/docs/tryhackme/34"},next:{title:"Corridor",permalink:"/docs/tryhackme/36"}},c={},d=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"80",id:"80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"www-data",id:"www-data",level:3},{value:"www-data --&gt; jake",id:"www-data----jake",level:3},{value:"jake --&gt; root",id:"jake----root",level:3}];function p(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{id:"smag-grotto",children:"Smag Grotto"}),"\n",(0,a.jsx)(e.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-42-53:~/smaggrotto# nmap -sT -p- --min-rate 1000 10.10.156.172 \n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-08-25 02:54 BST\nNmap scan report for ip-10-10-156-172.eu-west-1.compute.internal (10.10.156.172)\nHost is up (0.0077s latency).\nNot shown: 65533 closed ports\nPORT   STATE SERVICE\n22/tcp open  ssh\n80/tcp open  http\nMAC Address: 02:D6:8E:42:6A:F5 (Unknown)\n\nNmap done: 1 IP address (1 host up) scanned in 3.22 seconds\nroot@ip-10-10-42-53:~/smaggrotto# nmap -sTCV -p 22,80 --min-rate 1000 10.10.156.172 \n\nStarting Nmap 7.60 ( https://nmap.org ) at 2023-08-25 02:54 BST\nNmap scan report for ip-10-10-156-172.eu-west-1.compute.internal (10.10.156.172)\nHost is up (0.00011s latency).\n\nPORT   STATE SERVICE VERSION\n22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 74:e0:e1:b4:05:85:6a:15:68:7e:16:da:f2:c7:6b:ee (RSA)\n|   256 bd:43:62:b9:a1:86:51:36:f8:c7:df:f9:0f:63:8f:a3 (ECDSA)\n|_  256 f9:e7:da:07:8f:10:af:97:0b:32:87:c9:32:d7:1b:76 (EdDSA)\n80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))\n|_http-server-header: Apache/2.4.18 (Ubuntu)\n|_http-title: Smag\nMAC Address: 02:D6:8E:42:6A:F5 (Unknown)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\n"})}),"\n",(0,a.jsx)(e.h2,{id:"80",children:"80"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-42-53:~/smaggrotto# gobuster dir -u http://10.10.156.172/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x php,txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.156.172/\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Extensions:     php,txt\n[+] Timeout:        10s\n===============================================================\n2023/08/25 02:59:26 Starting gobuster\n===============================================================\n/index.php (Status: 200)\n/mail (Status: 301)\n/server-status (Status: 403)\n===============================================================\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u67e5\u770b ",(0,a.jsx)(e.code,{children:"/mail"})," \u53d1\u73b0\u4e00\u4e2a pacp \u6587\u4ef6\uff0c \u4e0b\u8f7d\u4e0b\u6765\u8fdb\u884c\u5206\u6790"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195049.png",alt:"20240627195049"})}),"\n",(0,a.jsx)(e.p,{children:"\u968f\u540e\u5728\u5176\u4e2d\u53d1\u73b0\u660e\u6587\u767b\u5f55\u8d26\u53f7\u4fe1\u606f"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195112.png",alt:"20240627195112"})}),"\n",(0,a.jsx)(e.p,{children:"\u5728\u6b64\u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u65b0\u7684\u57df, \u6211\u4eec\u8fdb\u884c\u767b\u9646\u540e\u8df3\u8f6c\u5230 admin.php \u8fd9\u91cc\u662f\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u7684\u4f4d\u7f6e, \u4f46\u662f\u6ca1\u6709\u56de\u663e"}),"\n",(0,a.jsx)(e.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,a.jsx)(e.h3,{id:"www-data",children:"www-data"}),"\n",(0,a.jsx)(e.p,{children:"\u5229\u7528\u4e0a\u9762\u53d1\u73b0\u7684\u547d\u4ee4\u6ce8\u5165\u6f0f\u6d1e\u83b7\u53d6\u4e00\u4e2a\u53cd\u5411Shell"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195156.png",alt:"20240627195156"})}),"\n",(0,a.jsx)(e.p,{children:"\u5728\u5b9a\u65f6\u4efb\u52a1\u4e2d\u53d1\u73b0\u4e00\u4e2a\u72ec\u7279\u7684\u4efb\u52a1\u5b58\u5728"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195204.png",alt:"20240627195204"})}),"\n",(0,a.jsx)(e.p,{children:"\u53d1\u73b0\u5b83\u5c06\u4e00\u4e2a pacp \u6587\u4ef6\u5199\u5165\u5230 jake \u7684 ssh \u4e2d,\u5e76\u4e14\u6211\u4eec\u5bf9\u8be5\u6587\u4ef6\u4e5f\u5177\u6709\u8bfb\u5199\u6743\u9650\u6211\u4eec\u5c06\u81ea\u5df1\u7684\u516c\u94a5\u5199\u5165\u5176\u4e2d"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195232.png",alt:"20240627195232"})}),"\n",(0,a.jsx)(e.h3,{id:"www-data----jake",children:"www-data --\x3e jake"}),"\n",(0,a.jsx)(e.p,{children:"\u7b49\u5f85\u5b9a\u65f6\u4efb\u52a1\u6267\u884c\u540e, \u4f7f\u7528\u79c1\u94a5\u8fdb\u884c\u767b\u9646"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195252.png",alt:"20240627195252"})}),"\n",(0,a.jsxs)(e.p,{children:["\u6211\u4eec\u5728\u8fd9\u91cc\u53d1\u73b0\u4e00\u4e2a ",(0,a.jsx)(e.a,{href:"https://gtfobins.github.io/gtfobins/apt-get/#sudo",children:"sudo \u7279\u6743"})]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195309.png",alt:"20240627195309"})}),"\n",(0,a.jsx)(e.h3,{id:"jake----root",children:"jake --\x3e root"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240627195345.png",alt:"20240627195345"})})]})}function l(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(p,{...t})}):p(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>i,x:()=>o});var a=n(96540);const s={},r=a.createContext(s);function i(t){const e=a.useContext(r);return a.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function o(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:i(t.components),a.createElement(r.Provider,{value:e},t.children)}}}]);