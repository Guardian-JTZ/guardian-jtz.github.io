"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[9378],{88083:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var s=n(74848),o=n(28453);const i={sidebar_position:4,tags:["Easy","Linux","\u6587\u4ef6\u4e0a\u4f20","SUID"],title:"Liceo"},a="Liceo",r={id:"box/HackMyVM/Liceo",title:"Liceo",description:"\u7aef\u53e3\u626b\u63cf",source:"@site/docs/box/HackMyVM/Liceo.md",sourceDirName:"box/HackMyVM",slug:"/box/HackMyVM/Liceo",permalink:"/docs/box/HackMyVM/Liceo",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u6587\u4ef6\u4e0a\u4f20",permalink:"/docs/tags/\u6587\u4ef6\u4e0a\u4f20"},{label:"SUID",permalink:"/docs/tags/suid"}],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,tags:["Easy","Linux","\u6587\u4ef6\u4e0a\u4f20","SUID"],title:"Liceo"},sidebar:"boxSidebar",previous:{title:"Immortal",permalink:"/docs/box/HackMyVM/Immortal"},next:{title:"Universe",permalink:"/docs/box/HackMyVM/Universe"}},c={},l=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"HTTP - 80",id:"http---80",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"www-data --&gt; root",id:"www-data----root",level:3}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"liceo",children:"Liceo"}),"\n",(0,s.jsx)(t.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"\u2500\u2500(root\u327fkali)-[~/CTF/HackerMyVM]\n\u2514\u2500# nmap -sTCV -p- --min-rate 1000 192.168.0.105   \nStarting Nmap 7.94SVN ( https://nmap.org ) at 2024-04-14 08:56 EDT\nNmap scan report for 192.168.0.105 (192.168.0.105)\nHost is up (0.019s latency).\nNot shown: 65532 closed tcp ports (conn-refused)\nPORT   STATE SERVICE VERSION\n21/tcp open  ftp     vsftpd 3.0.5\n| ftp-syst: \n|   STAT: \n| FTP server status:\n|      Connected to ::ffff:192.168.0.104\n|      Logged in as ftp\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 1\n|      vsFTPd 3.0.5 - secure, fast, stable\n|_End of status\n| ftp-anon: Anonymous FTP login allowed (FTP code 230)\n|_-rw-rw-r--    1 1000     1000          191 Feb 01 14:29 note.txt\n22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.6 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   256 68:4c:42:8d:10:2c:61:56:7b:26:c4:78:96:6d:28:15 (ECDSA)\n|_  256 7e:1a:29:d8:9b:91:44:bd:66:ff:6a:f3:2b:c7:35:65 (ED25519)\n80/tcp open  http    Apache httpd 2.4.52 ((Ubuntu))\n|_http-server-header: Apache/2.4.52 (Ubuntu)\n|_http-title: Liceo\nMAC Address: 08:00:27:9B:FC:34 (Oracle VirtualBox virtual NIC)\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 11.79 seconds\n"})}),"\n",(0,s.jsx)(t.p,{children:"\u4ece\u626b\u63cf\u7ed3\u679c\u4e2d\u53ef\u4ee5\u770b\u5230\u5b58\u5728\u4e00\u4e2a FTP \u533f\u540d\u8eab\u4efd\u767b\u9646, \u90a3\u4e2a\u6587\u4ef6\u6ca1\u6709\u4ec0\u4e48\u5185\u5bb9"}),"\n",(0,s.jsx)(t.h2,{id:"http---80",children:"HTTP - 80"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"\u250c\u2500\u2500(root\u327fkali)-[~/CTF/HackerMyVM]\n\u2514\u2500# gobuster dir -u http://liceo.com/ -w /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -x php,txt,html\n===============================================================\nGobuster v3.6\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)\n===============================================================\n[+] Url:                     http://liceo.com/\n[+] Method:                  GET\n[+] Threads:                 10\n[+] Wordlist:                /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Negative Status codes:   404\n[+] User Agent:              gobuster/3.6\n[+] Extensions:              php,txt,html\n[+] Timeout:                 10s\n===============================================================\nStarting gobuster in directory enumeration mode\n===============================================================\n/.php                 (Status: 403) [Size: 274]\n/images               (Status: 301) [Size: 307] [--\x3e http://liceo.com/images/]\n/.html                (Status: 403) [Size: 274]\n/index.html           (Status: 200) [Size: 21487]\n/uploads              (Status: 301) [Size: 308] [--\x3e http://liceo.com/uploads/]\n/upload.php           (Status: 200) [Size: 371]\n/server-status        (Status: 403) [Size: 274]\nProgress: 882240 / 882244 (100.00%)\n===============================================================\nFinished\n===============================================================\n"})}),"\n",(0,s.jsxs)(t.p,{children:["\u4ece\u7aef\u53e3\u626b\u63cf\u7684\u7ed3\u679c\u4e2d\u53ef\u4ee5\u770b\u5230\u4e24\u4e2a\u5185\u5bb9 ",(0,s.jsx)(t.code,{children:"uploads"})," ",(0,s.jsx)(t.code,{children:"upload.php"})," \u5f88\u660e\u663e\u5c31\u662f\u5229\u7528\u6587\u4ef6\u4e0a\u4f20\u6765\u653b\u51fb, \u76f4\u63a5\u4e0a\u4f20 ",(0,s.jsx)(t.code,{children:"php"})," \u663e\u793a\u9ed1\u540d\u5355\u4e4b\u540e\u8fdb\u884c\u5c1d\u8bd5\u53d1\u73b0 ",(0,s.jsx)(t.code,{children:".phtml"})," \u53ef\u4ee5\u4e0a\u4f20\u6210\u529f\u5e76\u6267\u884c\n",(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/JTZ-a/Image/main/img/20240414210728.png",alt:""})]}),"\n",(0,s.jsx)(t.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(t.h3,{id:"www-data----root",children:"www-data --\x3e root"}),"\n",(0,s.jsxs)(t.p,{children:["\u4e0a\u4f20\u811a\u672c\u8fdb\u884c\u6267\u884c\u53d1\u73b0\u4e00\u4e2a\u7279\u6b8a\u7684 SUID \u7a0b\u5e8f\n",(0,s.jsx)(t.img,{src:"https://raw.githubusercontent.com/JTZ-a/Image/main/img/20240414212117.png",alt:""})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"(remote) www-data@liceoserver:/var/tmp$ /usr/bin/bash -p\n(remote) root@liceoserver:/var/tmp# id\nuid=33(www-data) gid=33(www-data) euid=0(root) egid=0(root) groups=0(root),33(www-data)\n"})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(96540);const o={},i=s.createContext(o);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);